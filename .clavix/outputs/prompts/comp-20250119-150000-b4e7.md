---
id: comp-20250119-150000-b4e7
depthUsed: comprehensive
timestamp: 2025-01-19T15:00:00Z
executed: true
originalPrompt: "Hace un npm run test:all en apps/backend y crea un .md en docs/testing Documentando los tests que fallaron y por que"
---

# Improved Prompt

## Objective
Execute the complete test suite for the backend and generate a comprehensive failure analysis report.

## Tasks

### 1. Execute Tests
Run the following command in the backend directory:
```bash
cd apps/backend && npm run test:all
```

### 2. Generate Failure Report
Create a markdown file at `docs/testing/test-failures-report.md` with:

**Required Sections:**
- **Summary**: Total tests run, passed, failed, skipped
- **Failed Tests List**: Each failing test with:
  - Test file and test name
  - Error message
  - Stack trace (truncated if >50 lines)
  - Root cause analysis (if identifiable)
- **Categorization**: Group failures by type (assertion, timeout, integration, etc.)
- **Recommendations**: Suggested fixes for each failure category

**Format Template:**
```markdown
# Test Failure Report

**Generated**: [Date/Time]
**Command**: `npm run test:all`
**Environment**: [Node version, OS if available]

## Summary

| Metric | Count |
|--------|-------|
| Total Tests | X |
| Passed | X |
| Failed | X |
| Skipped | X |

## Failed Tests

### 1. [Test Description]
- **File**: [path/to/test.spec.ts]
- **Test**: `test name`
- **Error**: [error message]
- **Cause**: [analysis]

## Categorization

| Category | Count | Tests |
|----------|-------|-------|
| Timeout | N | ... |
| Assertion | N | ... |
| Integration | N | ... |

## Recommendations
[...]
```

## Technical Constraints
- Target directory: `apps/backend`
- Output location: `docs/testing/`
- Create `docs/testing/` if it doesn't exist
- Use Spanish for the report content (matching user's language)

## Success Criteria
- [ ] Tests executed completely
- [ ] Markdown file created at specified path
- [ ] All failures documented with error messages
- [ ] Report includes summary and categorization